{"mappings":"uWAIA,IAAMA,EAAgB,CACpB,EAAA,UACA,EAAA,UACA,EAAA,UACA,GAAA,SAQWC,EAAAA,SAAAA,oBAMXA,EAAAC,SAAcC,EAAAA,EAAAA,OAAQC,EAAAA,EAAAA,eACVC,OAAOC,KAAKN,GAAkBO,SAASH,EAAQI,aAAzDC,EAAAA,SAAS,IACTC,EAAAC,EAAAC,KAAAC,KAAA,CAAQC,kBAAiB,CAAGV,YAEvBD,OAASA,EACdO,EAAKN,QAAUA,MAXnBO,KAAAV,gFAAA,IAAAc,EAAAd,EAAAe,iBAAAD,EAceE,SAdf,uCAuB0BC,QAAAC,QAAAC,EAAKC,UACxBC,cACAC,SACAC,MAHmB,SAGbC,UAA+BA,EAAS,OAH3BD,MAAA,SAAhBE,UAKGC,SAAUP,EAAKC,UAAUC,cAAelB,QAASgB,EAAKhB,QAASsB,QAAAA,OAbnEN,EAAAP,kBAAD,IAACO,EAAKC,UAAN,OACsBH,QAAAC,QAAAS,IAAoBJ,MAApB,SAAyBK,GAAC,IAAAC,SAAA,OAAAA,EAAA,MAAID,OAAJ,EAAIA,EAAC,SAALC,EAAkBD,MAA5CL,MAAA,kBAAAO,EAAA,6BAAlBC,GACNZ,EAAKC,UAAY,IAAIW,EACnBZ,EAAKjB,OACY,IAAjBiB,EAAKhB,SAAkC,IAAjBgB,EAAKhB,aAAgB6B,EAAYjC,EAAiBoB,EAAKhB,gEAnBrF,MA6BG8B,UA7BHhB,QAAAiB,OAAAD,KAAAnB,EA+BeO,YA/Bf,sBAgCIJ,QAAAC,QAAON,KAAKQ,UAAUC,eAhC1B,MAiCGY,UAjCHhB,QAAAiB,OAAAD,KAAAnB,EAmCeqB,WAnCf,sBAoCIlB,QAAAC,QAAON,KAAKT,SApChB,MAqCG8B,UArCHhB,QAAAiB,OAAAD,KAAAnB,EAuCesB,WAvCf,sBAwCInB,QAAAC,QAAON,KAAKQ,UACTC,cACAgB,KAFI,gBAGJd,MAHI,SAGEC,UAA+BA,EAAS,OA3CrD,MA4CGS,UA5CHhB,QAAAiB,OAAAD,KAAAnB,EA8CSwB,WA9CT,aAAAxB,EAgDeyB,MAhDf,eAiDU,IAAAC,EAAA5B,YAAAK,QAAAC,QAAAsB,EAAKpB,UAAUqB,KAAKC,UAApBnB,MAAA,WACNiB,EAAKG,oBAlDT,MAmDGV,UAnDHhB,QAAAiB,OAAAD,KAAAjC,EAAaA,CAA2B4C,EAAAA,wDChBxCC,EAAAC,QAAcC,OAAA,KAA8BjB,EAAA,SAAAZ,QAA4C,UAAYK,MAAI,IAAOO,EAAa","sources":["node_modules/@web3-react/fortmatic-connector/src/index.ts","node_modules/@parcel/runtime-js/lib/runtime-95dee053b68682f7.js"],"sourcesContent":["import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport invariant from 'tiny-invariant'\n\nconst chainIdToNetwork: { [network: number]: string } = {\n  1: 'mainnet',\n  3: 'ropsten',\n  4: 'rinkeby',\n  42: 'kovan'\n}\n\ninterface FortmaticConnectorArguments {\n  apiKey: string\n  chainId: number\n}\n\nexport class FortmaticConnector extends AbstractConnector {\n  private readonly apiKey: string\n  private readonly chainId: number\n\n  public fortmatic: any\n\n  constructor({ apiKey, chainId }: FortmaticConnectorArguments) {\n    invariant(Object.keys(chainIdToNetwork).includes(chainId.toString()), `Unsupported chainId ${chainId}`)\n    super({ supportedChainIds: [chainId] })\n\n    this.apiKey = apiKey\n    this.chainId = chainId\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    if (!this.fortmatic) {\n      const Fortmatic = await import('fortmatic').then(m => m?.default ?? m)\n      this.fortmatic = new Fortmatic(\n        this.apiKey,\n        this.chainId === 1 || this.chainId === 4 ? undefined : chainIdToNetwork[this.chainId]\n      )\n    }\n\n    const account = await this.fortmatic\n      .getProvider()\n      .enable()\n      .then((accounts: string[]): string => accounts[0])\n\n    return { provider: this.fortmatic.getProvider(), chainId: this.chainId, account }\n  }\n\n  public async getProvider(): Promise<any> {\n    return this.fortmatic.getProvider()\n  }\n\n  public async getChainId(): Promise<number | string> {\n    return this.chainId\n  }\n\n  public async getAccount(): Promise<null | string> {\n    return this.fortmatic\n      .getProvider()\n      .send('eth_accounts')\n      .then((accounts: string[]): string => accounts[0])\n  }\n\n  public deactivate() {}\n\n  public async close() {\n    await this.fortmatic.user.logout()\n    this.emitDeactivate()\n  }\n}\n","module.exports = (__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"aH2vb\"))).then(() => parcelRequire('fnSli'));"],"names":["chainIdToNetwork","FortmaticConnector","_ref","apiKey","chainId","Object","keys","includes","toString","invariant","_this","_AbstractConnector","call","this","supportedChainIds","_proto","prototype","activate","Promise","resolve","_this3","fortmatic","getProvider","enable","then","accounts","account","provider","res","m","_m$default","parcelRequire","Fortmatic","undefined","e","reject","getChainId","getAccount","send","deactivate","close","_this11","user","logout","emitDeactivate","AbstractConnector","module","exports","import"],"version":3,"file":"fortmatic-connector.esm.8b41766e.js.map"}