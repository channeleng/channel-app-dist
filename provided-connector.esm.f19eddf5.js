function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire81fb;n.register("32mQb",(function(t,r){e(t.exports,"UserRejectedRequestError",(()=>m)),e(t.exports,"NoEthereumProviderError",(()=>v)),e(t.exports,"ProvidedConnector",(()=>y));var o=n("5KsNI");function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function c(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,n,t){return(s=h()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&a(o,t.prototype),o}).apply(null,arguments)}function d(e){var n="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return s(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function p(e,n){try{var t=e()}catch(e){return n(e)}return t&&t.then?t.then(void 0,n):t}function l(e){return e.hasOwnProperty("result")?e.result:e}var v=function(e){function n(){var n;return(n=e.call(this)||this).name=n.constructor.name,n.message="No Ethereum provider was passed to the constructor or found on window.ethereum.",n}return c(n,e),n}(d(Error)),m=function(e){function n(){var n;return(n=e.call(this)||this).name=n.constructor.name,n.message="The user rejected the request.",n}return c(n,e),n}(d(Error)),y=function(e){function n(n){var t,r=n.provider,o=void 0===r?window.ethereum:r,i=n.supportedChainIds;return(t=e.call(this,{supportedChainIds:i})||this).provider=o,t.handleNetworkChanged=t.handleNetworkChanged.bind(f(t)),t.handleChainChanged=t.handleChainChanged.bind(f(t)),t.handleAccountsChanged=t.handleAccountsChanged.bind(f(t)),t.handleClose=t.handleClose.bind(f(t)),t}c(n,e);var t=n.prototype;return t.handleChainChanged=function(e){this.emitUpdate({chainId:e,provider:this.provider})},t.handleAccountsChanged=function(e){0===e.length?this.emitDeactivate():this.emitUpdate({account:e[0]})},t.handleClose=function(e,n){this.emitDeactivate()},t.handleNetworkChanged=function(e){this.emitUpdate({chainId:e,provider:this.provider})},t.activate=function(){try{var e,n=function(n){if(t)return n;function o(){return i({provider:r.provider},e?{account:e}:{})}var c=function(){if(!e)return Promise.resolve(r.provider.enable().then((function(e){return e&&l(e)[0]}))).then((function(n){e=n}))}();return c&&c.then?c.then(o):o()},t=!1,r=this;if(!r.provider)throw new v;r.provider.on&&(r.provider.on("chainChanged",r.handleChainChanged),r.provider.on("accountsChanged",r.handleAccountsChanged),r.provider.on("close",r.handleClose),r.provider.on("networkChanged",r.handleNetworkChanged)),r.provider.isMetaMask&&(r.provider.autoRefreshOnNetworkChange=!1);var o=p((function(){return Promise.resolve(r.provider.send("eth_requestAccounts").then((function(e){return l(e)[0]}))).then((function(n){e=n}))}),(function(e){if(4001===e.code)throw new m}));return Promise.resolve(o&&o.then?o.then(n):n(o))}catch(e){return Promise.reject(e)}},t.getProvider=function(){try{return Promise.resolve(this.provider)}catch(e){return Promise.reject(e)}},t.getChainId=function(){try{var e,n=function(){function n(){if(!e)try{e=l(t.provider.send({method:"net_version"}))}catch(e){}return e||(e=t.provider.isDapper?l(t.provider.cachedResults.net_version):t.provider.chainId||t.provider.networkVersion||t.provider._chainId),e}var r=function(){if(!e){var n=p((function(){return Promise.resolve(t.provider.send("net_version").then(l)).then((function(n){e=n}))}),(function(){}));if(n&&n.then)return n.then((function(){}))}}();return r&&r.then?r.then(n):n()},t=this;if(!t.provider)throw new v;var r=p((function(){return Promise.resolve(t.provider.send("eth_chainId").then(l)).then((function(n){e=n}))}),(function(){}));return Promise.resolve(r&&r.then?r.then(n):n())}catch(e){return Promise.reject(e)}},t.getAccount=function(){try{var e,n=function(){function n(){return e||(e=l(t.provider.send({method:"eth_accounts"}))[0]),e}var r=function(){if(!e){var n=p((function(){return Promise.resolve(t.provider.enable().then((function(e){return l(e)[0]}))).then((function(n){e=n}))}),(function(){}));if(n&&n.then)return n.then((function(){}))}}();return r&&r.then?r.then(n):n()},t=this;if(!t.provider)throw new v;var r=p((function(){return Promise.resolve(t.provider.send("eth_accounts").then((function(e){return l(e)[0]}))).then((function(n){e=n}))}),(function(){}));return Promise.resolve(r&&r.then?r.then(n):n())}catch(e){return Promise.reject(e)}},t.deactivate=function(){this.provider&&this.provider.removeListener&&(this.provider.removeListener("chainChanged",this.handleChainChanged),this.provider.removeListener("accountsChanged",this.handleAccountsChanged),this.provider.removeListener("close",this.handleClose),this.provider.removeListener("networkChanged",this.handleNetworkChanged))},t.isAuthorized=function(){try{var e=this;return e.provider?Promise.resolve(p((function(){return Promise.resolve(e.provider.send("eth_accounts").then((function(e){return l(e).length>0})))}),(function(){return!1}))):Promise.resolve(!1)}catch(e){return Promise.reject(e)}},n}(o.AbstractConnector)}));
//# sourceMappingURL=provided-connector.esm.f19eddf5.js.map
